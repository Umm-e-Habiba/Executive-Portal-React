(window["webpackJsonpshreyu-react"]=window["webpackJsonpshreyu-react"]||[]).push([[22],{108:function(e,t,a){e.exports=a.p+"static/media/no-data.fec8971f.svg"},316:function(e,t,a){e.exports=a.p+"static/media/employee-male.ca564f74.svg"},631:function(e,t,a){e.exports=a.p+"static/media/employee-female.96f8c22b.svg"},649:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a.n(n),l=a(136),r=a(27),m=a(28),s=a(30),i=a(29),o=a(0),u=a.n(o),d=(a(110),a(75),a(366)),f=a(367),h=a(349),E=a(350),p=a(224),b=a(225),g=a(162),y=a(244),v=a(625),N=a(395),k=a(627),x=a(628),S=a(629),w=a(630),I=a(137),C=a.n(I),D=a(89),M=a(90),F=a(108),O=a.n(F),j=a(316),A=a.n(j),T=a(631),L=a.n(T),z=function(e){var t=e.staffMember,a=t.Attendance.map((function(e){var t=new Date(e.CheckTime);return t.setMinutes(t.getMinutes()+t.getTimezoneOffset()),{id:e.ID,title:e.IsCheckIn?"Check-In":"Check-Out",start:t,className:"bg-".concat(e.IsCheckIn?"success":"warning"," text-white font-size-10")}})),n=t.Attendance.length>0,c=null,l=null;return n&&((c=new Date(t.Attendance[0].CheckTime)).setMinutes(c.getMinutes()+c.getTimezoneOffset()),l={Date:c.toLocaleString("en-US",{day:"numeric",year:"numeric",month:"long"}),Time:c.toLocaleString("en-US",{hour:"numeric",minute:"numeric"}),IsCheckIn:t.Attendance[0].IsCheckIn}),u.a.createElement(d.a,null,u.a.createElement(f.a,null,u.a.createElement(h.a,{className:"border-botton"},u.a.createElement(E.a,{lg:2,className:"text-center"},u.a.createElement("img",{src:"M"===t.Gender?A.a:L.a,alt:"Employee",className:"avatar-xl rounded-circle"})),u.a.createElement(E.a,{lg:10},u.a.createElement("h5",{className:"mb-0"},t.Name),u.a.createElement("h6",{className:"text-muted font-weight-normal mb-0"},t.Title),n?l.IsCheckIn?u.a.createElement("h6",{className:"text-muted font-weight-normal mt-2"},u.a.createElement("span",{className:"badge badge-sm badge-soft-success py-1"},u.a.createElement("span",{className:"fas fa-clock mr-1"}),"Checked in on ".concat(l.Date," at ").concat(l.Time,"."))):u.a.createElement("h6",{className:"text-muted font-weight-normal mt-2"},u.a.createElement("span",{className:"badge badge-sm badge-soft-info py-1"},u.a.createElement("span",{className:"fas fa-clock mr-1"}),"Checked out on ".concat(l.Date," at ").concat(l.Time,"."))):u.a.createElement("h6",{className:"text-muted font-weight-normal mt-2"},u.a.createElement("span",{className:"badge badge-sm badge-soft-danger py-1"},u.a.createElement("span",{className:"fas fa-clock mr-1"}),"No check-in | check-out record found.")))),u.a.createElement(v.a,{defaultView:"dayGridMonth",plugins:[x.a,N.d,k.a,w.a,S.a],themeSystem:"bootstrap",handleWindowResize:!0,bootstrapFontAwesome:!1,buttonText:{today:"Today",month:"Month",week:"Week",day:"Day",list:"List",prev:"Prev",next:"Next"},header:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},droppable:!1,editable:!1,eventLimit:!1,selectable:!1,events:a,id:"calendar"})))},G=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={IsDataFetched:!1,IsDataFound:!1,Staff:[],StaffNames:[],SelectedIndex:-1,SelectedMember:null},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("".concat("https://attari-admin-api.herokuapp.com","/khyberCity/staffAttendance"));case 3:t=e.sent,this.setState({IsDataFetched:!0}),"Data found."===t.data.Message&&(a=t.data.Staff,this.setState({IsDataFound:!0,Staff:a,StaffNames:a.map((function(e){return e.Name})),SelectedIndex:a.length>0?0:-1,SelectedMember:a.length>0?a[0]:null})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({IsDataFetched:!0});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.IsDataFetched,n=t.IsDataFound,c=t.StaffNames,l=t.SelectedIndex,r=t.SelectedMember;return n?u.a.createElement(u.a.Fragment,null,u.a.createElement(h.a,{className:"page-title"},u.a.createElement(E.a,{md:12},u.a.createElement(D.a,{breadCrumbItems:[{label:"Khyber City",path:"/khyberCity/sales"},{label:"Attendance",path:"/khyberCity/attendance",active:!0}],title:"Attendance"}))),c.length>0?u.a.createElement(u.a.Fragment,null,u.a.createElement(d.a,null,u.a.createElement(f.a,null,u.a.createElement(p.a,{inline:!0},u.a.createElement(b.a,{className:"mb-2 mr-sm-2 mb-sm-0"},u.a.createElement(g.a,{type:"select",name:"StaffNames",value:l,onChange:function(t){var a=e.state.Staff;e.setState({SelectedIndex:t.target.value,SelectedMember:a[t.target.value]})}},c.map((function(e,t){return u.a.createElement("option",{key:t,value:t},e)}))))))),u.a.createElement(z,{staffMember:r})):u.a.createElement(y.a,null,u.a.createElement(h.a,{className:"justify-content-center"},u.a.createElement(E.a,{xl:4,lg:5},u.a.createElement("div",{className:"text-center"},u.a.createElement("div",null,u.a.createElement("img",{src:O.a,alt:"",className:"img-fluid"}))))),u.a.createElement(h.a,null,u.a.createElement(E.a,{className:"text-center"},u.a.createElement("h3",{className:"mt-3"},"No attendance records found."))))):u.a.createElement(M.a,{isDataFetched:a,retryLink:"/khyberCity/attendance"})}}]),a}(u.a.Component);t.default=G},89:function(e,t,a){"use strict";var n=a(0),c=a.n(n),l=a(31),r=a(352),m=a(353);t.a=function(e){var t=e.title||"",a=e.breadCrumbItems||"";return c.a.createElement(c.a.Fragment,null,c.a.createElement(r.a,{className:"float-right mt-1 font-size-14"},c.a.createElement(m.a,null,c.a.createElement(l.b,{to:"/"},"Attari Admin")),a.map((function(e,t){return e.active?c.a.createElement(m.a,{active:!0,key:t},e.label):c.a.createElement(m.a,{key:t},c.a.createElement(l.b,{to:e.path},e.label))}))),c.a.createElement("h4",{className:"mb-1 mt-0"},t))}},90:function(e,t,a){"use strict";var n=a(27),c=a(28),l=a(30),r=a(29),m=a(0),s=a.n(m),i=a(244),o=a(349),u=a(350),d=a(157),f=a(371),h=a(91),E=a.n(h),p=a(92),b=a.n(p),g=["primary","primary","primary"],y=function(e){Object(l.a)(a,e);var t=Object(r.a)(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){document.body.classList.add("authentication-bg")}},{key:"componentWillUnmount",value:function(){document.body.classList.remove("authentication-bg")}},{key:"render",value:function(){var e=this.props,t=e.isDataFetched;e.retryLink;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"my-5"},s.a.createElement(i.a,null,t?s.a.createElement("div",null,s.a.createElement(o.a,{className:"justify-content-center"},s.a.createElement(u.a,{xl:4,lg:5},s.a.createElement("div",{className:"text-center"},s.a.createElement("div",null,s.a.createElement("img",{src:E.a,alt:"",className:"img-fluid"}))))),s.a.createElement(o.a,null,s.a.createElement(u.a,{className:"text-center"},s.a.createElement("h3",{className:"mt-3"},"Oops! Something went wrong."),s.a.createElement("p",{className:"text-muted mb-2"},"Failed to fetch data from the server.",s.a.createElement("br",null)," Please try again!"),s.a.createElement(d.a,{className:"btn btn-lg btn-primary mt-4",onClick:function(){window.location.reload()}},"Retry")))):s.a.createElement("div",null,s.a.createElement(o.a,{className:"justify-content-center"},s.a.createElement(u.a,{xl:4,lg:5},s.a.createElement("div",{className:"text-center"},s.a.createElement("div",null,s.a.createElement("img",{src:b.a,alt:"",className:"img-fluid"}))))),s.a.createElement(o.a,null,s.a.createElement(u.a,{className:"text-center"},s.a.createElement("h3",{className:"mt-3"},"Loading"),s.a.createElement("div",null,g.map((function(e,t){return s.a.createElement(f.a,{key:t,className:"m-2",size:"sm",type:"grow",color:e})})))))))))}}]),a}(m.Component);t.a=y},91:function(e,t,a){e.exports=a.p+"static/media/fetch-failed.d47b94a0.svg"},92:function(e,t,a){e.exports=a.p+"static/media/searching.fdf701a1.svg"}}]);
//# sourceMappingURL=22.bdc243ac.chunk.js.map