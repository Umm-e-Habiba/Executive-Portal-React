{"ast":null,"code":"var _classCallCheck = require(\"E:\\\\Projects\\\\tobesendtobiba11apr23\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"E:\\\\Projects\\\\tobesendtobiba11apr23\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\n\n/*!\n* metismenujs - v1.3.0\n* MetisMenu: Collapsible menu plugin with Vanilla-JS\n* https://github.com/onokumus/metismenujs#readme\n*\n* Made by Osman Nuri Okumus <onokumus@gmail.com> (https://github.com/onokumus)\n* Under MIT License\n*/\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.MetisMenu = factory());\n})(this, function () {\n  'use strict';\n\n  var Default = {\n    parentTrigger: 'li',\n    subMenu: 'ul',\n    toggle: true,\n    triggerElement: 'a'\n  };\n  var ClassName = {\n    ACTIVE: 'mm-active',\n    COLLAPSE: 'mm-collapse',\n    COLLAPSED: 'mm-collapsed',\n    COLLAPSING: 'mm-collapsing',\n    METIS: 'metismenu',\n    SHOW: 'mm-show'\n  };\n\n  function matches(element, selector) {\n    var nativeMatches = element.matches || element.webkitMatchesSelector || element.msMatchesSelector;\n    return nativeMatches.call(element, selector);\n  }\n\n  function closest(element, selector) {\n    if (element.closest) {\n      return element.closest(selector);\n    }\n\n    var el = element;\n\n    while (el) {\n      if (matches(el, selector)) {\n        return el;\n      }\n\n      el = el.parentElement;\n    }\n\n    return null;\n  }\n  /* eslint-disable max-len */\n\n\n  var MetisMenu = /*#__PURE__*/function () {\n    /**\n     * Creates an instance of MetisMenu.\n     *\n     * @constructor\n     * @param {Element | string} element\n     * @param {IMMOptions} [options]\n     * @memberof MetisMenu\n     */\n    function MetisMenu(element, options) {\n      _classCallCheck(this, MetisMenu);\n\n      this.element = MetisMenu.isElement(element) ? element : document.querySelector(element);\n      this.config = Object.assign(Object.assign({}, Default), options);\n      this.disposed = false;\n      this.triggerArr = [];\n      this.init();\n    }\n\n    _createClass(MetisMenu, [{\n      key: \"init\",\n      value: function init() {\n        var _this = this;\n\n        var METIS = ClassName.METIS,\n            ACTIVE = ClassName.ACTIVE,\n            COLLAPSE = ClassName.COLLAPSE;\n        this.element.classList.add(METIS);\n        [].slice.call(this.element.querySelectorAll(this.config.subMenu)).forEach(function (ul) {\n          ul.classList.add(COLLAPSE);\n          var li = closest(ul, _this.config.parentTrigger);\n\n          if (li === null || li === void 0 ? void 0 : li.classList.contains(ACTIVE)) {\n            _this.show(ul);\n          } else {\n            _this.hide(ul);\n          }\n\n          var a = li === null || li === void 0 ? void 0 : li.querySelector(_this.config.triggerElement);\n\n          if ((a === null || a === void 0 ? void 0 : a.getAttribute('aria-disabled')) === 'true') {\n            return;\n          }\n\n          a === null || a === void 0 ? void 0 : a.setAttribute('aria-expanded', 'false');\n          a === null || a === void 0 ? void 0 : a.addEventListener('click', _this.clickEvent.bind(_this));\n\n          _this.triggerArr.push(a);\n        });\n      }\n    }, {\n      key: \"clickEvent\",\n      value: function clickEvent(evt) {\n        if (!this.disposed) {\n          var target = evt === null || evt === void 0 ? void 0 : evt.currentTarget;\n\n          if (target && target.tagName === 'A') {\n            evt.preventDefault();\n          }\n\n          var li = closest(target, this.config.parentTrigger);\n          var ul = li === null || li === void 0 ? void 0 : li.querySelector(this.config.subMenu);\n          this.toggle(ul);\n        }\n      }\n    }, {\n      key: \"update\",\n      value: function update() {\n        this.disposed = false;\n        this.init();\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        var _this2 = this;\n\n        this.triggerArr.forEach(function (arr) {\n          arr.removeEventListener('click', _this2.clickEvent.bind(_this2));\n        });\n        this.disposed = true;\n      }\n    }, {\n      key: \"on\",\n      value: function on(evtType, handler, options) {\n        this.element.addEventListener(evtType, handler, options);\n        return this;\n      }\n    }, {\n      key: \"off\",\n      value: function off(evtType, handler, options) {\n        this.element.removeEventListener(evtType, handler, options);\n        return this;\n      }\n    }, {\n      key: \"emit\",\n      value: function emit(evtType, evtData) {\n        var shouldBubble = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        var evt;\n\n        if (typeof CustomEvent === 'function') {\n          evt = new CustomEvent(evtType, {\n            bubbles: shouldBubble,\n            detail: evtData\n          });\n        } else {\n          evt = document.createEvent('CustomEvent');\n          evt.initCustomEvent(evtType, shouldBubble, false, evtData);\n        }\n\n        this.element.dispatchEvent(evt);\n        return this;\n      }\n    }, {\n      key: \"toggle\",\n      value: function toggle(ul) {\n        var li = closest(ul, this.config.parentTrigger);\n\n        if (li === null || li === void 0 ? void 0 : li.classList.contains(ClassName.ACTIVE)) {\n          this.hide(ul);\n        } else {\n          this.show(ul);\n        }\n      }\n    }, {\n      key: \"show\",\n      value: function show(el) {\n        var _this3 = this;\n\n        var _a;\n\n        var ul = el;\n        var ACTIVE = ClassName.ACTIVE,\n            COLLAPSE = ClassName.COLLAPSE,\n            COLLAPSED = ClassName.COLLAPSED,\n            COLLAPSING = ClassName.COLLAPSING,\n            SHOW = ClassName.SHOW;\n\n        if (this.isTransitioning || ul.classList.contains(COLLAPSING)) {\n          return;\n        }\n\n        var complete = function complete() {\n          ul.classList.remove(COLLAPSING);\n          ul.style.height = '';\n          ul.removeEventListener('transitionend', complete);\n\n          _this3.setTransitioning(false);\n\n          _this3.emit('shown.metisMenu', {\n            shownElement: ul\n          });\n        };\n\n        var li = closest(ul, this.config.parentTrigger);\n        li === null || li === void 0 ? void 0 : li.classList.add(ACTIVE);\n        var a = li === null || li === void 0 ? void 0 : li.querySelector(this.config.triggerElement);\n        a === null || a === void 0 ? void 0 : a.setAttribute('aria-expanded', 'true');\n        a === null || a === void 0 ? void 0 : a.classList.remove(COLLAPSED);\n        ul.style.height = '0px';\n        ul.classList.remove(COLLAPSE);\n        ul.classList.remove(SHOW);\n        ul.classList.add(COLLAPSING);\n        var eleParentSiblins = [].slice.call((_a = li === null || li === void 0 ? void 0 : li.parentNode) === null || _a === void 0 ? void 0 : _a.children).filter(function (c) {\n          return c !== li;\n        });\n\n        if (this.config.toggle && eleParentSiblins.length > 0) {\n          eleParentSiblins.forEach(function (sibli) {\n            var sibUl = sibli.querySelector(_this3.config.subMenu);\n\n            if (sibUl) {\n              _this3.hide(sibUl);\n            }\n          });\n        }\n\n        this.setTransitioning(true);\n        ul.classList.add(COLLAPSE);\n        ul.classList.add(SHOW);\n        ul.style.height = \"\".concat(ul.scrollHeight, \"px\");\n        this.emit('show.metisMenu', {\n          showElement: ul\n        });\n        ul.addEventListener('transitionend', complete);\n      }\n    }, {\n      key: \"hide\",\n      value: function hide(el) {\n        var _this4 = this;\n\n        var ACTIVE = ClassName.ACTIVE,\n            COLLAPSE = ClassName.COLLAPSE,\n            COLLAPSED = ClassName.COLLAPSED,\n            COLLAPSING = ClassName.COLLAPSING,\n            SHOW = ClassName.SHOW;\n        var ul = el;\n\n        if (this.isTransitioning || !ul.classList.contains(SHOW)) {\n          return;\n        }\n\n        this.emit('hide.metisMenu', {\n          hideElement: ul\n        });\n        var li = closest(ul, this.config.parentTrigger);\n        li === null || li === void 0 ? void 0 : li.classList.remove(ACTIVE);\n\n        var complete = function complete() {\n          ul.classList.remove(COLLAPSING);\n          ul.classList.add(COLLAPSE);\n          ul.style.height = '';\n          ul.removeEventListener('transitionend', complete);\n\n          _this4.setTransitioning(false);\n\n          _this4.emit('hidden.metisMenu', {\n            hiddenElement: ul\n          });\n        };\n\n        ul.style.height = \"\".concat(ul.getBoundingClientRect().height, \"px\");\n        ul.style.height = \"\".concat(ul.offsetHeight, \"px\");\n        ul.classList.add(COLLAPSING);\n        ul.classList.remove(COLLAPSE);\n        ul.classList.remove(SHOW);\n        this.setTransitioning(true);\n        ul.addEventListener('transitionend', complete);\n        ul.style.height = '0px';\n        var a = li === null || li === void 0 ? void 0 : li.querySelector(this.config.triggerElement);\n        a === null || a === void 0 ? void 0 : a.setAttribute('aria-expanded', 'false');\n        a === null || a === void 0 ? void 0 : a.classList.add(COLLAPSED);\n      }\n    }, {\n      key: \"setTransitioning\",\n      value: function setTransitioning(isTransitioning) {\n        this.isTransitioning = isTransitioning;\n      }\n    }], [{\n      key: \"attach\",\n      value: function attach(el, opt) {\n        return new MetisMenu(el, opt);\n      }\n    }, {\n      key: \"isElement\",\n      value: function isElement(element) {\n        return Boolean(element.classList);\n      }\n    }]);\n\n    return MetisMenu;\n  }();\n\n  return MetisMenu;\n});","map":{"version":3,"sources":["../src/constant.ts","../src/util.ts","../src/index.ts"],"names":[],"mappings":"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","sourcesContent":["import { IMMOptions } from './interface';\n\nexport type MetisMenuEvents =\n  | 'show.metisMenu'\n  | 'shown.metisMenu'\n  | 'hide.metisMenu'\n  | 'hidden.metisMenu';\n\nexport const Default: IMMOptions = {\n  parentTrigger: 'li',\n  subMenu: 'ul',\n  toggle: true,\n  triggerElement: 'a',\n};\n\nexport const ClassName = {\n  ACTIVE: 'mm-active',\n  COLLAPSE: 'mm-collapse',\n  COLLAPSED: 'mm-collapsed',\n  COLLAPSING: 'mm-collapsing',\n  METIS: 'metismenu',\n  SHOW: 'mm-show',\n};\n","export function matches(element: Element, selector: string): boolean {\n  const nativeMatches = element.matches\n    || element.webkitMatchesSelector\n    || element.msMatchesSelector;\n  return nativeMatches.call(element, selector);\n}\n\nexport function closest(element: Element, selector: string): Element | null {\n  if (element.closest) {\n    return element.closest(selector);\n  }\n\n  let el: Element | null = element;\n  while (el) {\n    if (matches(el, selector)) {\n      return el;\n    }\n    el = el.parentElement;\n  }\n  return null;\n}\n","/* eslint-disable max-len */\nimport { ClassName, Default, MetisMenuEvents } from './constant';\nimport { IMMOptions } from './interface';\nimport { EventType, SpecificEventListener, CustomEventListener } from './types';\nimport { closest } from './util';\n\nclass MetisMenu {\n  protected config: IMMOptions;\n\n  protected element: Element;\n\n  protected isTransitioning!: boolean;\n\n  protected disposed: boolean;\n\n  protected triggerArr: Array<Element>;\n\n  /**\n   * Creates an instance of MetisMenu.\n   *\n   * @constructor\n   * @param {Element | string} element\n   * @param {IMMOptions} [options]\n   * @memberof MetisMenu\n   */\n\n  constructor(element: Element | string, options?: IMMOptions) {\n    this.element = MetisMenu.isElement(element) ? element : document.querySelector<HTMLElement>(element)!;\n    this.config = { ...Default, ...options };\n    this.disposed = false;\n    this.triggerArr = [];\n    this.init();\n  }\n\n  static attach(el: Element, opt?: IMMOptions) {\n    return new MetisMenu(el, opt);\n  }\n\n  private init(): void {\n    const { METIS, ACTIVE, COLLAPSE } = ClassName;\n    this.element.classList.add(METIS);\n\n    [].slice.call(this.element.querySelectorAll<HTMLElement>(this.config.subMenu!)).forEach((ul: Element) => {\n      ul.classList.add(COLLAPSE!);\n      const li = closest(ul, this.config.parentTrigger!);\n\n      if (li?.classList.contains(ACTIVE!)) {\n        this.show(ul as HTMLElement);\n      } else {\n        this.hide(ul);\n      }\n\n      const a = li?.querySelector<HTMLElement>(this.config.triggerElement!);\n      if (a?.getAttribute('aria-disabled') === 'true') {\n        return;\n      }\n\n      a?.setAttribute('aria-expanded', 'false');\n\n      a?.addEventListener('click', this.clickEvent.bind(this));\n      this.triggerArr.push(a!);\n    });\n  }\n\n  private clickEvent(evt?: Event) {\n    if (!this.disposed) {\n      const target = evt?.currentTarget as Element | null;\n      if (target && target.tagName === 'A') {\n        evt!.preventDefault();\n      }\n\n      const li = closest(target!, this.config.parentTrigger!);\n      const ul = li?.querySelector(this.config.subMenu!);\n      this.toggle(ul!);\n    }\n  }\n\n  update() {\n    this.disposed = false;\n    this.init();\n  }\n\n  dispose() {\n    this.triggerArr.forEach((arr) => {\n      arr.removeEventListener('click', this.clickEvent.bind(this));\n    });\n    this.disposed = true;\n  }\n\n  on<K extends EventType>(evtType: K, handler: SpecificEventListener<K>, options?: AddEventListenerOptions | boolean): MetisMenu;\n\n  on<E extends Event>(evtType: E, handler: CustomEventListener<E>, options?: AddEventListenerOptions | boolean): MetisMenu;\n\n  on(evtType: MetisMenuEvents, handler: EventListener, options?: AddEventListenerOptions | boolean) {\n    this.element.addEventListener(evtType, handler, options);\n    return this;\n  }\n\n  off<K extends EventType>(evtType: K, handler: SpecificEventListener<K>, options?: AddEventListenerOptions | boolean): MetisMenu;\n\n  off<E extends Event>(evtType: E, handler: CustomEventListener<E>, options?: AddEventListenerOptions | boolean): MetisMenu;\n\n  off(evtType: MetisMenuEvents, handler: EventListener, options?: AddEventListenerOptions | boolean) {\n    this.element.removeEventListener(evtType, handler, options);\n    return this;\n  }\n\n  emit<T extends object>(evtType: string, evtData: T, shouldBubble = false) {\n    let evt: CustomEvent<T>;\n    if (typeof CustomEvent === 'function') {\n      evt = new CustomEvent<T>(evtType, {\n        bubbles: shouldBubble,\n        detail: evtData,\n      });\n    } else {\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(evtType, shouldBubble, false, evtData);\n    }\n    this.element.dispatchEvent(evt);\n    return this;\n  }\n\n  toggle(ul: Element) {\n    const li = closest(ul, this.config.parentTrigger!);\n    if (li?.classList.contains(ClassName.ACTIVE)) {\n      this.hide(ul);\n    } else {\n      this.show(ul);\n    }\n  }\n\n  show(el: Element) {\n    const ul = el as HTMLElement;\n    const {\n      ACTIVE, COLLAPSE, COLLAPSED, COLLAPSING, SHOW,\n    } = ClassName;\n\n    if (this.isTransitioning || ul.classList.contains(COLLAPSING!)) {\n      return;\n    }\n    const complete = () => {\n      ul.classList.remove(COLLAPSING!);\n      ul.style.height = '';\n      ul.removeEventListener('transitionend', complete);\n      this.setTransitioning(false);\n      this.emit('shown.metisMenu', {\n        shownElement: ul,\n      });\n    };\n\n    const li = closest(ul, this.config.parentTrigger!);\n    li?.classList.add(ACTIVE!);\n\n    const a = li?.querySelector<HTMLElement>(this.config.triggerElement!);\n    a?.setAttribute('aria-expanded', 'true');\n    a?.classList.remove(COLLAPSED!);\n\n    ul.style.height = '0px';\n    ul.classList.remove(COLLAPSE!);\n    ul.classList.remove(SHOW!);\n    ul.classList.add(COLLAPSING!);\n    const eleParentSiblins = [].slice\n      .call(li?.parentNode?.children)\n      .filter((c) => c !== li);\n    if (this.config.toggle && eleParentSiblins.length > 0) {\n      eleParentSiblins.forEach((sibli: Element) => {\n        const sibUl = sibli.querySelector<HTMLElement>(this.config.subMenu!);\n        if (sibUl) {\n          this.hide(sibUl);\n        }\n      });\n    }\n\n    this.setTransitioning(true);\n\n    ul.classList.add(COLLAPSE!);\n    ul.classList.add(SHOW!);\n    ul.style.height = `${ul.scrollHeight}px`;\n    this.emit('show.metisMenu', {\n      showElement: ul,\n    });\n    ul.addEventListener('transitionend', complete);\n  }\n\n  hide(el: Element) {\n    const {\n      ACTIVE, COLLAPSE, COLLAPSED, COLLAPSING, SHOW,\n    } = ClassName;\n    const ul = el as HTMLElement;\n    if (this.isTransitioning || !ul.classList.contains(SHOW!)) {\n      return;\n    }\n    this.emit('hide.metisMenu', {\n      hideElement: ul,\n    });\n\n    const li = closest(ul, this.config.parentTrigger!);\n    li?.classList.remove(ACTIVE!);\n\n    const complete = () => {\n      ul.classList.remove(COLLAPSING!);\n      ul.classList.add(COLLAPSE!);\n      ul.style.height = '';\n      ul.removeEventListener('transitionend', complete);\n      this.setTransitioning(false);\n      this.emit('hidden.metisMenu', {\n        hiddenElement: ul,\n      });\n    };\n\n    ul.style.height = `${ul.getBoundingClientRect().height}px`;\n    ul.style.height = `${ul.offsetHeight}px`;\n\n    ul.classList.add(COLLAPSING!);\n    ul.classList.remove(COLLAPSE!);\n    ul.classList.remove(SHOW!);\n    this.setTransitioning(true);\n\n    ul.addEventListener('transitionend', complete);\n\n    ul.style.height = '0px';\n\n    const a = li?.querySelector(this.config.triggerElement!);\n    a?.setAttribute('aria-expanded', 'false');\n    a?.classList.add(COLLAPSED!);\n  }\n\n  private setTransitioning(isTransitioning: boolean) {\n    this.isTransitioning = isTransitioning;\n  }\n\n  static isElement(element: unknown): element is Element {\n    return Boolean((element as Element).classList);\n  }\n}\n\nexport default MetisMenu;\n"]},"metadata":{},"sourceType":"script"}